{"version":3,"sources":["webpack://firekit/webpack/universalModuleDefinition","webpack://firekit/webpack/bootstrap","webpack://firekit/./src/store/auth/types.js","webpack://firekit/./src/store/auth/reducer.js","webpack://firekit/./src/store/collections/types.js","webpack://firekit/./src/store/collections/reducer.js","webpack://firekit/./src/store/connection/types.js","webpack://firekit/./src/store/connection/reducer.js","webpack://firekit/./src/store/docs/types.js","webpack://firekit/./src/store/docs/reducer.js","webpack://firekit/./src/store/lists/types.js","webpack://firekit/./src/store/paths/types.js","webpack://firekit/./src/store/errors/types.js","webpack://firekit/./src/store/errors/reducer.js","webpack://firekit/./src/store/initialization/types.js","webpack://firekit/./src/store/initialization/reducer.js","webpack://firekit/./src/store/lists/reducer.js","webpack://firekit/./src/store/loadings/types.js","webpack://firekit/./src/store/loadings/reducer.js","webpack://firekit/./src/store/messaging/types.js","webpack://firekit/./src/store/messaging/reducer.js","webpack://firekit/./src/store/paths/reducer.js","webpack://firekit/./src/store/initialization/actions.js","webpack://firekit/./src/store/errors/actions.js","webpack://firekit/./src/store/connection/actions.js","webpack://firekit/./src/store/messaging/actions.js","webpack://firekit/./src/store/loadings/actions.js","webpack://firekit/./src/store/auth/actions.js","webpack://firekit/./src/store/collections/selectors.js","webpack://firekit/./src/store/initialization/selectors.js","webpack://firekit/./src/store/collections/actions.js","webpack://firekit/./src/store/docs/selectors.js","webpack://firekit/./src/store/docs/actions.js","webpack://firekit/./src/store/lists/selectors.js","webpack://firekit/./src/store/lists/actions.js","webpack://firekit/./src/store/paths/selectors.js","webpack://firekit/./src/store/paths/actions.js","webpack://firekit/./src/store/loadings/selectors.js","webpack://firekit/./src/store/errors/selectors.js","webpack://firekit/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","AUTH_STATE_CHANGED","AUTH_ERROR","initialState","auth","state","arguments","length","undefined","_ref","payload","type","types","_extends","error","INIIALIZE","DESTROY","UNWATCH","CHILD_ADDED","CHILD_CHANGED","CHILD_REMOVED","collection","list","action","append","findIndex","id","concat","map","child","filter","collections","_extends2","_extends3","location","reducer_extends","rest","_objectWithoutProperties","ON_CONNECTION_STATE_CHANGED","isConnected","connection","connection_reducer_extends","VALUE_CHANGED","docs","docs_reducer_extends","reducer_objectWithoutProperties","LOG_ERROR","CLEAR_ERROR","CLEAR_ALL_ERRORS","errors","err","errors_reducer_extends","collectionsTypes","listsTypes","pathsTypes","docsTypes","errors_reducer_objectWithoutProperties","CLEAR_INITIALIZATION","initialization","path","initialization_reducer_extends","locationValue","locations","initialization_reducer_objectWithoutProperties","lists","lists_reducer_extends","lists_reducer_objectWithoutProperties","LOG_LOADING","CLEAR_LOADING","CLEAR_ALL_LOADINGS","loadings","loadings_reducer_extends","errorTypes","loadings_reducer_objectWithoutProperties","TOKEN_CHANGED","PERMISSION_CHANGED","MESSAGING_ERROR","ON_MESSAGE","ON_CLEAR_MESSAGE","hasPermission","token","messaging","messaging_reducer_extends","message","messaging_reducer_objectWithoutProperties","paths","paths_reducer_extends","paths_reducer_objectWithoutProperties","clearInitialization","logError","clearError","clearAllErrors","onConnectionStateChange","initConnection","firebaseApp","onChange","dispatch","database","ref","on","snapshot","val","Function","console","unsubscribeConnection","off","onPermissionChanged","onMessage","isInitialized","clearMessage","initMessaging","handleTokenChange","onMessageReceieved","onBackgroundMessageReceived","requestPermission","then","getToken","onTokenChanged","catch","warn","e","logLoading","clearLoading","clearAllLoadings","authStateChanged","user","authError","watchAuth","onAuthStateChanged","onAuthError","isAuthorised","displayName","email","photoURL","emailVerified","isAnonymous","uid","providerData","defaultUserData","getAllCols","getAllInitializations","getCol","isInitialised","initialize","childAdded","childChanged","childRemoved","destroy","unWatch","getRef","String","firestore","getLocation","_query","segments","join","getPath","watchCol","firebasePath","reduxPath","getState","initialized","initSelectors","unsub","onSnapshot","docChanges","forEach","change","doc","data","unwatchCol","unsubs","selectors","keys","destroyCol","unwatchAllCols","allColls","index","getAllDocs","getDoc","valueChanged","watchDoc","unwatchDoc","destroyDoc","unwatchAllDocs","allPaths","getAllLists","getList","getPayload","toString","substring","watchList","persistetList","once","childSnapshot","childKey","childData","push","unwatchList","destroyList","unwatchAllLists","allLists","getAllPaths","watchPath","logLoad","unwatchPath","destroyPath","unwatchAllPaths","isLoading","hasError","__webpack_exports__","selectors_getPath","firekitReducers","authReducer","collectionsReducer","connectionReducer","docsReducer","errorsReducer","initializationReducer","listsReducer","loadingsReducers","messagingReducer","pathsReducer"],"mappings":"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","file":"firekit.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"firekit\"] = factory();\n\telse\n\t\troot[\"firekit\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export const AUTH_STATE_CHANGED = `@@firekit/AUTH@AUTH_STATE_CHANGED`\nexport const AUTH_ERROR = `@@firekit/AUTH@AUTH_ERROR`\n","import * as types from './types'\n\nexport const initialState = {}\n\nexport default function auth(state = initialState, { payload, type }) {\n  switch (type) {\n    case types.AUTH_STATE_CHANGED:\n      return { ...state, ...payload }\n\n    case types.AUTH_ERROR:\n      return { ...state, error: payload }\n\n    default:\n      return state\n  }\n}\n","export const APPEND_INIIALIZE = `@@firekit/COLLECTIONS@APPEND_INIIALIZE`\nexport const INIIALIZE = `@@firekit/COLLECTIONS@INIIALIZE`\nexport const DESTROY = `@@firekit/COLLECTIONS@DESTROY`\nexport const UNWATCH = `@@firekit/COLLECTIONS@UNWATCH`\nexport const CHILD_ADDED = `@@firekit/COLLECTIONS@CHILD_ADDED`\nexport const CHILD_CHANGED = `@@firekit/COLLECTIONS@CHILD_CHANGED`\nexport const CHILD_REMOVED = `@@firekit/COLLECTIONS@CHILD_REMOVED`\n","import * as types from './types'\n\nfunction collection(list = [], action) {\n  const { payload, append } = action\n  switch (action.type) {\n    case types.INIIALIZE:\n      return append ? [...list, ...payload] : payload\n\n    case types.CHILD_ADDED:\n      return list.findIndex(d => d.id === payload.id) === -1 ? [...list, payload] : [...list]\n\n    case types.CHILD_CHANGED:\n      return list.map(child => (payload.id === child.id ? payload : child))\n\n    case types.CHILD_REMOVED:\n      return list.filter(child => payload.id !== child.id)\n  }\n}\n\nexport default function collections(state = {}, action) {\n  const { location } = action\n\n  switch (action.type) {\n    case types.INIIALIZE:\n      return {\n        ...state,\n        [location]: collection(state[action.location], action)\n      }\n\n    case types.CHILD_ADDED:\n    case types.CHILD_CHANGED:\n    case types.CHILD_REMOVED:\n      return { ...state, [location]: collection(state[action.location], action) }\n\n    case types.DESTROY:\n      const { [location]: omitData, ...rest } = state\n      return { ...rest }\n\n    default:\n      return state\n  }\n}\n","export const ON_CONNECTION_STATE_CHANGED = `@@firekit/CONNECTION@ON_CONNECTION_STATE_CHANGED`\n","import * as types from './types'\n\nexport const initialState = {\n  isConnected: true\n}\n\nexport default function connection(state = initialState, { payload, type }) {\n  switch (type) {\n    case types.ON_CONNECTION_STATE_CHANGED:\n      return { ...state, ...payload }\n\n    default:\n      return state\n  }\n}\n","export const INIIALIZE = `@@firekit/DOCS@INIIALIZE`\nexport const DESTROY = `@@firekit/DOCS@DESTROY`\nexport const UNWATCH = `@@firekit/DOCS@UNWATCH`\nexport const VALUE_CHANGED = `@@firekit/DOCS@VALUE_CHANGED`\n","import * as types from './types'\n\nexport default function docs(state = {}, action) {\n  const { location } = action\n\n  switch (action.type) {\n    case types.VALUE_CHANGED:\n      return { ...state, [location]: action.payload }\n\n    case types.DESTROY:\n      const { [location]: omitData, ...rest } = state\n      return { ...rest }\n\n    default:\n      return state\n  }\n}\n","export const APPEND_INIIALIZE = `@@firekit/LISTS@APPEND_INIIALIZE`\nexport const INIIALIZE = `@@firekit/LISTS@INIIALIZE`\nexport const DESTROY = `@@firekit/LISTS@DESTROY`\nexport const UNWATCH = `@@firekit/LISTS@UNWATCH`\nexport const CHILD_ADDED = `@@firekit/LISTS@CHILD_ADDED`\nexport const CHILD_CHANGED = `@@firekit/LISTS@CHILD_CHANGED`\nexport const CHILD_REMOVED = `@@firekit/LISTS@CHILD_REMOVED`\n","export const INIIALIZE = `@@firekit/PATHS@INIIALIZE`\nexport const DESTROY = `@@firekit/PATHS@DESTROY`\nexport const UNWATCH = `@@firekit/PATHS@UNWATCH`\nexport const VALUE_CHANGED = `@@firekit/PATHS@VALUE_CHANGED`\n","export const LOG_ERROR = `@@firekit/ERRORS@LOG_ERROR`\nexport const CLEAR_ERROR = `@@firekit/ERRORS@CLEAR_ERROR`\nexport const CLEAR_ALL_ERRORS = `@@firekit/ERRORS@CLEAR_ALL_ERRORS`\n","import * as collectionsTypes from '../collections/types'\nimport * as docsTypes from '../docs/types'\nimport * as listsTypes from '../lists/types'\nimport * as pathsTypes from '../paths/types'\nimport * as types from './types'\n\nexport default function errors(state = {}, action) {\n  const { location, err } = action\n\n  switch (action.type) {\n    case types.LOG_ERROR:\n      return {\n        ...state,\n        [location]: err\n      }\n\n    case types.CLEAR_ALL_ERRORS:\n      return {}\n\n    case types.CLEAR_ERROR:\n    case collectionsTypes.INIIALIZE:\n    case listsTypes.INIIALIZE:\n    case pathsTypes.VALUE_CHANGED:\n    case docsTypes.VALUE_CHANGED:\n    case listsTypes.DESTROY:\n    case listsTypes.UNWATCH:\n    case collectionsTypes.DESTROY:\n    case collectionsTypes.UNWATCH:\n    case pathsTypes.DESTROY:\n    case pathsTypes.UNWATCH:\n    case docsTypes.DESTROY:\n    case docsTypes.UNWATCH:\n      let { [location]: omit, ...rest } = state\n      return { ...rest }\n\n    default:\n      return state\n  }\n}\n","export const CLEAR_INITIALIZATION = `@@firekit/INITIALIZATION@CLEAR_INITIALIZATION`\n","import * as collectionsTypes from '../collections/types'\nimport * as docsTypes from '../docs/types'\nimport * as listsTypes from '../lists/types'\nimport * as pathsTypes from '../paths/types'\nimport * as types from './types'\n\nfunction locations(state = [], action) {\n  const { location, locationValue } = action\n  switch (action.type) {\n    case listsTypes.INIIALIZE:\n    case collectionsTypes.INIIALIZE:\n    case pathsTypes.VALUE_CHANGED:\n    case docsTypes.VALUE_CHANGED:\n      return {\n        ...state,\n        [location]: locationValue\n      }\n  }\n}\n\nexport default function initialization(state = {}, action) {\n  const { path } = action\n\n  switch (action.type) {\n    case listsTypes.INIIALIZE:\n    case collectionsTypes.INIIALIZE:\n    case pathsTypes.VALUE_CHANGED:\n    case docsTypes.VALUE_CHANGED:\n      return {\n        ...state,\n        [path]: locations(state[path], action)\n      }\n\n    case types.CLEAR_INITIALIZATION:\n      return {}\n\n    case listsTypes.DESTROY:\n    case listsTypes.UNWATCH:\n    case collectionsTypes.DESTROY:\n    case collectionsTypes.UNWATCH:\n    case pathsTypes.DESTROY:\n    case pathsTypes.UNWATCH:\n    case docsTypes.DESTROY:\n    case docsTypes.UNWATCH:\n      let { [path]: omit, ...rest } = state\n      return { ...rest }\n\n    default:\n      return state\n  }\n}\n","import * as types from './types'\n\nfunction list(list = [], action) {\n  const { payload, append } = action\n  switch (action.type) {\n    case types.INIIALIZE:\n      return append ? [...list, ...payload] : payload\n\n    case types.CHILD_ADDED:\n      return list.findIndex(d => d.key === payload.key) === -1 ? [...list, payload] : [...list]\n\n    case types.CHILD_CHANGED:\n      return list.map(child => (payload.key === child.key ? payload : child))\n\n    case types.CHILD_REMOVED:\n      return list.filter(child => payload.key !== child.key)\n  }\n}\n\nexport default function lists(state = {}, action) {\n  const { location } = action\n\n  switch (action.type) {\n    case types.INIIALIZE:\n      return {\n        ...state,\n        [location]: list(state[action.location], action)\n      }\n\n    case types.CHILD_ADDED:\n    case types.CHILD_CHANGED:\n    case types.CHILD_REMOVED:\n      return { ...state, [location]: list(state[action.location], action) }\n\n    case types.DESTROY:\n      const { [location]: omitData, ...rest } = state\n      return { ...rest }\n\n    default:\n      return state\n  }\n}\n","export const LOG_LOADING = `@@firekit/LOADING@LOG_LOADING`\nexport const CLEAR_LOADING = `@@firekit/LOADING@CLEAR_LOADING`\nexport const CLEAR_ALL_LOADINGS = `@@firekit/LOADING@CLEAR_ALL_LOADINGS`\n","import * as collectionsTypes from '../collections/types'\nimport * as docsTypes from '../docs/types'\nimport * as listsTypes from '../lists/types'\nimport * as pathsTypes from '../paths/types'\nimport * as errorTypes from '../errors/types'\nimport * as types from './types'\n\nexport default function loadings(state = {}, action) {\n  const { location } = action\n\n  switch (action.type) {\n    case types.LOG_LOADING:\n      return {\n        ...state,\n        [location]: true\n      }\n\n    case types.CLEAR_ALL_LOADINGS:\n      return {}\n\n    case types.CLEAR_LOADING:\n    case collectionsTypes.INIIALIZE:\n    case listsTypes.INIIALIZE:\n    case pathsTypes.VALUE_CHANGED:\n    case docsTypes.VALUE_CHANGED:\n    case listsTypes.DESTROY:\n    case listsTypes.UNWATCH:\n    case collectionsTypes.DESTROY:\n    case collectionsTypes.UNWATCH:\n    case pathsTypes.DESTROY:\n    case pathsTypes.UNWATCH:\n    case docsTypes.DESTROY:\n    case docsTypes.UNWATCH:\n    case errorTypes.LOG_ERROR:\n      let { [location]: omit, ...rest } = state\n      return { ...rest }\n\n    default:\n      return state\n  }\n}\n","export const TOKEN_CHANGED = `@@firekit/MESSAGING@TOKEN_CHANGED`\nexport const PERMISSION_CHANGED = `@@firekit/MESSAGING@PERMISSION_CHANGED`\nexport const MESSAGING_ERROR = `@@firekit/MESSAGING@MESSAGING_ERROR`\nexport const ON_MESSAGE = `@@firekit/MESSAGING@ON_MESSAGE`\nexport const ON_CLEAR_MESSAGE = `@@firekit/MESSAGING@ON_CLEAR_MESSAGE`\n","import * as types from './types'\n\nexport const initialState = {\n  hasPermission: false,\n  token: undefined\n}\n\nexport default function messaging(state = initialState, { payload, type }) {\n  switch (type) {\n    case types.PERMISSION_CHANGED:\n    case types.TOKEN_CHANGED:\n    case types.MESSAGING_ERROR:\n    case types.ON_MESSAGE:\n      return { ...state, ...payload }\n\n    case types.ON_CLEAR_MESSAGE:\n      const { message, ...rest } = state\n      return { ...rest }\n\n    default:\n      return state\n  }\n}\n","import * as types from './types'\n\nexport default function paths(state = {}, action) {\n  const { location } = action\n\n  switch (action.type) {\n    case types.VALUE_CHANGED:\n      return { ...state, [location]: action.payload }\n\n    case types.DESTROY:\n      const { [location]: omitData, ...rest } = state\n      return { ...rest }\n\n    default:\n      return state\n  }\n}\n","import * as types from './types'\n\nexport function clearInitialization() {\n  return {\n    type: types.CLEAR_INITIALIZATION\n  }\n}\n","import * as types from './types'\n\nexport function logError(location, err) {\n  return {\n    type: types.LOG_ERROR,\n    location,\n    err\n  }\n}\nexport function clearError(location) {\n  return {\n    type: types.CLEAR_ERROR,\n    location\n  }\n}\n\nexport function clearAllErrors() {\n  return {\n    type: types.CLEAR_ALL_ERRORS\n  }\n}\n","import * as types from './types'\nimport { logError } from '../errors/actions'\n\nexport function onConnectionStateChange(isConnected) {\n  return {\n    type: types.ON_CONNECTION_STATE_CHANGED,\n    payload: { isConnected }\n  }\n}\n\nexport function initConnection(firebaseApp, onChange) {\n  return dispatch => {\n    firebaseApp\n      .database()\n      .ref('.info/connected')\n      .on(\n        'value',\n        snapshot => {\n          dispatch(onConnectionStateChange(snapshot.val()))\n\n          if (onChange !== undefined && onChange instanceof Function) {\n            onChange(snapshot.val())\n          }\n        },\n        err => {\n          console.error(err)\n          dispatch(logError('.info/connected', err))\n        }\n      )\n  }\n}\n\nexport function unsubscribeConnection(firebaseApp) {\n  return dispatch => {\n    firebaseApp\n      .database()\n      .ref('.info/connected')\n      .off()\n    dispatch(onConnectionStateChange(false))\n  }\n}\n","import * as types from './types'\n\nexport function onTokenChanged(token) {\n  return {\n    type: types.TOKEN_CHANGED,\n    payload: { token, isInitialized: true }\n  }\n}\n\nexport function onPermissionChanged(hasPermission, onMessage) {\n  return {\n    type: types.PERMISSION_CHANGED,\n    payload: { hasPermission, isInitialized: true }\n  }\n}\n\nexport function onMessage(message) {\n  return {\n    type: types.ON_MESSAGE,\n    payload: { message }\n  }\n}\nexport function clearMessage() {\n  return {\n    type: types.ON_CLEAR_MESSAGE\n  }\n}\n\nexport function onMessagingError(error) {\n  return {\n    type: types.MESSAGING_ERROR,\n    payload: { error }\n  }\n}\n\nexport function initMessaging(firebaseApp, handleTokenChange, onMessageReceieved, onBackgroundMessageReceived) {\n  return dispatch => {\n    const messaging = firebaseApp.messaging()\n\n    try {\n      messaging\n        .requestPermission()\n        .then(() => {\n          return messaging.getToken()\n        })\n        .then(token => {\n          if (handleTokenChange !== undefined && handleTokenChange instanceof Function) {\n            handleTokenChange(token)\n          }\n\n          dispatch(onPermissionChanged(true))\n          dispatch(onTokenChanged(token))\n        })\n        .catch(error => {\n          dispatch(onPermissionChanged(false))\n          console.warn(error)\n        })\n    } catch (e) {\n      dispatch(onPermissionChanged(false))\n      console.warn(e)\n    }\n\n    messaging.onMessage(payload => {\n      if (onMessageReceieved !== undefined && onMessageReceieved instanceof Function) {\n        onMessageReceieved(payload)\n      }\n\n      dispatch(onMessage(payload))\n    })\n  }\n}\n","import * as types from './types'\n\nexport function logLoading(location) {\n  return {\n    type: types.LOG_LOADING,\n    location\n  }\n}\nexport function clearLoading(location) {\n  return {\n    type: types.CLEAR_LOADING,\n    location\n  }\n}\n\nexport function clearAllLoadings() {\n  return {\n    type: types.CLEAR_ALL_LOADINGS\n  }\n}\n","import * as types from './types'\n\nexport function authStateChanged(user) {\n  return {\n    type: types.AUTH_STATE_CHANGED,\n    payload: user\n  }\n}\n\nexport function authError(error) {\n  return {\n    type: types.AUTH_ERROR,\n    payload: error\n  }\n}\n\nexport function defaultUserData(user) {\n  if (user != null) {\n    return {\n      displayName: user.displayName,\n      email: user.email,\n      photoURL: user.photoURL,\n      emailVerified: user.emailVerified,\n      isAnonymous: user.isAnonymous,\n      uid: user.uid,\n      providerData: user.providerData,\n      isAuthorised: true\n    }\n  } else {\n    return {\n      isAuthorised: false\n    }\n  }\n}\n\nexport function watchAuth(firebaseApp, onAuthStateChanged, onAuthError) {\n  return dispatch => {\n    firebaseApp.auth().onAuthStateChanged(\n      user => {\n        if (onAuthStateChanged && onAuthStateChanged instanceof Function) {\n          dispatch(authStateChanged({ isAuthorised: !!user, ...onAuthStateChanged(user) }))\n        } else {\n          dispatch(authStateChanged({ isAuthorised: !!user, ...defaultUserData(user) }))\n        }\n      },\n      error => {\n        if (onAuthError && onAuthError instanceof Function) {\n          dispatch(authError(error))\n        } else {\n          dispatch(authError(error))\n        }\n      }\n    )\n  }\n}\n","export function getAllCols(state) {\n  return state.collections\n}\n\nexport function getAllInitializations(state) {\n  return state.initialization\n}\n\nexport function getCol(state, location) {\n  if (state.collections !== undefined && state.collections[location]) {\n    return state.collections[location]\n  }\n\n  return []\n}\n","export function isInitialised(state, path, location) {\n  if (state.initialization !== undefined && state.initialization[path]) {\n    return state.initialization[path][location]\n  }\n\n  return false\n}\n","import * as types from './types'\nimport * as selectors from './selectors'\nimport * as initSelectors from '../initialization/selectors'\nimport { logError } from '../errors/actions'\nimport { logLoading } from '../loadings/actions'\n\nexport const initialize = (list, location, path, locationValue, append) => {\n  return {\n    type: types.INIIALIZE,\n    payload: list,\n    path,\n    location,\n    append,\n    locationValue\n  }\n}\n\nexport const childAdded = (child, location) => {\n  return {\n    type: types.CHILD_ADDED,\n    payload: child,\n    location\n  }\n}\n\nexport const childChanged = (child, location) => {\n  return {\n    type: types.CHILD_CHANGED,\n    payload: child,\n    location\n  }\n}\n\nexport const childRemoved = (child, location) => {\n  return {\n    type: types.CHILD_REMOVED,\n    payload: child,\n    location\n  }\n}\n\nexport const destroy = location => {\n  return {\n    type: types.DESTROY,\n    location\n  }\n}\n\nexport const unWatch = path => {\n  return {\n    type: types.UNWATCH,\n    path\n  }\n}\n\nconst getPath = (firebaseApp, ref) => {\n  return ref._query.path.segments.join('/')\n}\n\nexport const getRef = (firebaseApp, path) => {\n  if (typeof path === 'string' || path instanceof String) {\n    return firebaseApp.firestore().collection(path)\n  } else {\n    return path\n  }\n}\n\nexport const getLocation = (firebaseApp, path) => {\n  if (typeof path === 'string' || path instanceof String) {\n    return path\n  } else {\n    return getPath(firebaseApp, path)\n  }\n}\n\nexport function watchCol(firebaseApp, firebasePath, reduxPath = false, append = false) {\n  let ref = getRef(firebaseApp, firebasePath)\n  const path = getLocation(firebaseApp, firebasePath)\n  let location = reduxPath || path\n\n  return (dispatch, getState) => {\n    const isInitialized = initSelectors.isInitialised(getState(), path, location)\n    let initialized = false\n\n    if (!isInitialized) {\n      dispatch(logLoading(location))\n      const unsub = ref.onSnapshot(\n        snapshot => {\n          snapshot.docChanges().forEach(change => {\n            if (change.type === 'added') {\n              if (initialized) {\n                dispatch(\n                  childAdded(\n                    {\n                      id: change.doc.id,\n                      data: change.doc.data()\n                    },\n                    location\n                  )\n                )\n              } else {\n                initialized = true\n                dispatch(\n                  initialize(\n                    [\n                      {\n                        id: change.doc.id,\n                        data: change.doc.data()\n                      }\n                    ],\n                    location,\n                    path,\n                    unsub,\n                    append\n                  )\n                )\n              }\n            }\n            if (change.type === 'modified') {\n              dispatch(\n                childChanged(\n                  {\n                    id: change.doc.id,\n                    data: change.doc.data()\n                  },\n                  location\n                )\n              )\n            }\n            if (change.type === 'removed') {\n              dispatch(\n                childRemoved(\n                  {\n                    id: change.doc.id,\n                    data: change.doc.data()\n                  },\n                  location\n                )\n              )\n            }\n          })\n        },\n        err => {\n          console.error(err)\n          dispatch(logError(location, err))\n        }\n      )\n    }\n  }\n}\n\nexport function unwatchCol(firebaseApp, firebasePath) {\n  return (dispatch, getState) => {\n    const location = firebasePath\n    const allInitializations = selectors.getAllInitializations(getState())\n    const unsubs = allInitializations[location]\n\n    if (unsubs) {\n      Object.keys(unsubs).map(key => {\n        const unsub = unsubs[key]\n        if (typeof unsub === 'function') {\n          unsub()\n        }\n        dispatch(unWatch(location))\n      })\n    }\n  }\n}\n\nexport function destroyCol(firebaseApp, firebasePath, reduxPath = false) {\n  return (dispatch, getState) => {\n    const location = reduxPath || getLocation(firebaseApp, firebasePath)\n    const locations = getState().initialization[location]\n\n    dispatch(unWatch(location))\n    dispatch(destroy(location))\n\n    if (reduxPath) {\n      dispatch(destroy(reduxPath))\n      unwatchCol(firebaseApp, reduxPath)\n    } else if (locations) {\n      Object.keys(locations).forEach(location => {\n        unwatchCol(firebaseApp, location)\n        dispatch(destroy(location))\n      })\n    }\n  }\n}\n\nexport function unwatchAllCol(firebaseApp, path) {\n  return (dispatch, getState) => {\n    const allLists = selectors.getAllCols(getState())\n\n    Object.keys(allLists).forEach(function(key, index) {\n      unwatchCol(firebaseApp, key)\n      dispatch(unWatch(key))\n    })\n  }\n}\n\nexport function unwatchAllCols(firebaseApp, path) {\n  return (dispatch, getState) => {\n    const allColls = selectors.getAllCols(getState())\n\n    Object.keys(allColls).forEach(function(key, index) {\n      unwatchCol(firebaseApp, key)\n      dispatch(destroyCol(firebaseApp, allColls[index]))\n    })\n  }\n}\n","export function getAllDocs(state) {\n  return state.docs\n}\n\nexport function getAllInitializations(state) {\n  return state.initialization\n}\n\nexport function getDoc(state, location) {\n  if (state.docs !== undefined && state.docs[location]) {\n    return state.docs[location]\n  }\n\n  return null\n}\n","import * as types from './types'\nimport * as selectors from './selectors'\nimport * as initSelectors from '../initialization/selectors'\nimport { logError } from '../errors/actions'\nimport { logLoading } from '../loadings/actions'\n\nexport const valueChanged = (value, location, path, locationValue) => {\n  return {\n    type: types.VALUE_CHANGED,\n    payload: value,\n    path,\n    location,\n    locationValue\n  }\n}\n\nexport const destroy = location => {\n  return {\n    type: types.DESTROY,\n    location\n  }\n}\n\nexport const unWatch = path => {\n  return {\n    type: types.UNWATCH,\n    path\n  }\n}\n\nexport const getRef = (firebaseApp, path) => {\n  if (typeof path === 'string' || path instanceof String) {\n    return firebaseApp.firestore().doc(path)\n  } else {\n    return path\n  }\n}\n\nexport const getLocation = (firebaseApp, path) => {\n  if (typeof path === 'string' || path instanceof String) {\n    return path\n  } else {\n    return firebaseApp.firestore().doc(path).path\n  }\n}\n\nexport function watchDoc(firebaseApp, firebasePath, reduxPath = false) {\n  let ref = getRef(firebaseApp, firebasePath)\n  let path = ref.path\n  let location = reduxPath || getLocation(firebaseApp, firebasePath)\n\n  return (dispatch, getState) => {\n    const isInitialized = initSelectors.isInitialised(getState(), location)\n\n    if (!isInitialized) {\n      dispatch(logLoading(location))\n\n      let unsub = ref.onSnapshot(\n        doc => {\n          dispatch(valueChanged(doc.data(), location, path, unsub))\n        },\n        err => {\n          console.error(err)\n          dispatch(logError(location, err))\n        }\n      )\n    }\n  }\n}\n\nexport function unwatchDoc(firebaseApp, path, reduxPath = false) {\n  return (dispatch, getState) => {\n    const location = reduxPath || path\n    const allInitializations = selectors.getAllInitializations(getState())\n    const unsubs = allInitializations[location]\n\n    if (unsubs) {\n      Object.keys(unsubs).map(key => {\n        const unsub = unsubs[key]\n        if (typeof unsub === 'function') {\n          unsub()\n        }\n        dispatch(unWatch(location))\n      })\n    }\n  }\n}\n\nexport function destroyDoc(firebaseApp, path, reduxPath = false) {\n  const location = reduxPath || path\n\n  return dispatch => {\n    unwatchDoc(firebaseApp, location)\n    dispatch(unWatch(location))\n    dispatch(destroy(location))\n  }\n}\n\nexport function unwatchAllDocs(firebaseApp) {\n  return (dispatch, getState) => {\n    const allPaths = selectors.getAllDocs(getState())\n\n    Object.keys(allPaths).forEach(function(key, index) {\n      unwatchDoc(firebaseApp, allPaths[index])\n      dispatch(unWatch(key))\n    })\n  }\n}\n","export function getAllLists(state) {\n  return state.lists\n}\n\nexport function getList(state, location) {\n  if (state.lists !== undefined && state.lists[location]) {\n    return state.lists[location]\n  }\n\n  return []\n}\n","import * as types from './types'\nimport * as selectors from './selectors'\nimport * as initSelectors from '../initialization/selectors'\nimport { logError } from '../errors/actions'\nimport { logLoading } from '../loadings/actions'\n\nexport const initialize = (list, location, path, append) => {\n  return {\n    type: types.INIIALIZE,\n    payload: list,\n    path,\n    location,\n    append,\n    locationValue: true\n  }\n}\n\nexport const childAdded = (child, location) => {\n  return {\n    type: types.CHILD_ADDED,\n    payload: child,\n    location\n  }\n}\n\nexport const childChanged = (child, location) => {\n  return {\n    type: types.CHILD_CHANGED,\n    payload: child,\n    location\n  }\n}\n\nexport const childRemoved = (child, location) => {\n  return {\n    type: types.CHILD_REMOVED,\n    payload: child,\n    location\n  }\n}\n\nexport const destroy = location => {\n  return {\n    type: types.DESTROY,\n    location\n  }\n}\n\nexport const unWatch = path => {\n  return {\n    type: types.UNWATCH,\n    path\n  }\n}\n\nconst getPayload = snapshot => {\n  return { key: snapshot.key, val: snapshot.val() }\n}\n\nexport const getRef = (firebaseApp, path) => {\n  if (typeof path === 'string' || path instanceof String) {\n    return firebaseApp.database().ref(path)\n  } else {\n    return path\n  }\n}\n\nexport const getLocation = (firebaseApp, path) => {\n  if (typeof path === 'string' || path instanceof String) {\n    return path\n  } else {\n    return path.toString().substring(\n      firebaseApp\n        .database()\n        .ref()\n        .root.toString().length\n    )\n  }\n}\n\nexport function watchList(firebaseApp, firebasePath, reduxPath = false, append = false) {\n  let ref = getRef(firebaseApp, firebasePath)\n  let path = ref.toString()\n  let location = reduxPath || getLocation(firebaseApp, firebasePath)\n\n  return (dispatch, getState) => {\n    let initialized = false\n    const isInitialized = initSelectors.isInitialised(getState(), path, location)\n    const persistetList = getState().lists ? getState().lists[location] : []\n\n    if (!isInitialized) {\n      dispatch(initialize(persistetList, location, path, append))\n      dispatch(logLoading(location))\n      ref.once(\n        'value',\n        snapshot => {\n          initialized = true\n\n          let list = []\n\n          snapshot.forEach(function(childSnapshot) {\n            let childKey = childSnapshot.key\n            let childData = childSnapshot.val()\n\n            list.push({ key: childKey, val: childData })\n          })\n\n          dispatch(initialize(list, location, path, append))\n        },\n        err => {\n          console.error(err)\n          dispatch(logError(location, err))\n        }\n      )\n\n      ref.on(\n        'child_added',\n        snapshot => {\n          if (initialized) {\n            dispatch(childAdded(getPayload(snapshot), location))\n          }\n        },\n        err => {\n          console.error(err)\n          dispatch(logError(location, err))\n        }\n      )\n\n      ref.on(\n        'child_changed',\n        snapshot => {\n          dispatch(childChanged(getPayload(snapshot), location))\n        },\n        err => {\n          console.error(err)\n          dispatch(logError(location, err))\n        }\n      )\n\n      ref.on(\n        'child_removed',\n        snapshot => {\n          dispatch(childRemoved(getPayload(snapshot), location))\n        },\n        err => {\n          console.error(err)\n          dispatch(logError(location, err))\n        }\n      )\n    }\n  }\n}\n\nexport function unwatchList(firebaseApp, firebasePath) {\n  return dispatch => {\n    let ref = getRef(firebaseApp, firebasePath)\n    ref.off()\n    dispatch(unWatch(ref.toString()))\n  }\n}\n\nexport function destroyList(firebaseApp, firebasePath, reduxPath = false) {\n  return (dispatch, getState) => {\n    let ref = getRef(firebaseApp, firebasePath)\n    const locations = getState().initialization[ref.toString()]\n\n    ref.off()\n    dispatch(unWatch(ref.toString()))\n\n    if (reduxPath) {\n      dispatch(destroy(reduxPath))\n    } else if (locations) {\n      Object.keys(locations).forEach(location => {\n        dispatch(destroy(location))\n      })\n    }\n  }\n}\n\nexport function unwatchAllLists(firebaseApp, path) {\n  return (dispatch, getState) => {\n    const allLists = selectors.getAllLists(getState())\n\n    Object.keys(allLists).forEach(function(key, index) {\n      const ref = firebaseApp.database().ref(key)\n      ref.off()\n      dispatch(unWatch(ref.toString()))\n    })\n  }\n}\n\nexport function destroyAllLists(firebaseApp, path) {\n  return (dispatch, getState) => {\n    const allLists = selectors.getAllLists(getState())\n\n    Object.keys(allLists).forEach(function(key, index) {\n      const ref = firebaseApp.database().ref(key)\n      ref.off()\n      dispatch(destroyList(firebaseApp, ref.toString()))\n    })\n  }\n}\n","export function getAllPaths(state) {\n  return state.paths\n}\n\nexport function getPath(state, location) {\n  if (state.paths !== undefined && state.paths[location]) {\n    return state.paths[location]\n  }\n\n  return {}\n}\n","import * as types from './types'\nimport * as selectors from './selectors'\nimport * as initSelectors from '../initialization/selectors'\nimport { logError } from '../errors/actions'\nimport { logLoading } from '../loadings/actions'\n\nexport const valueChanged = (value, location, path) => {\n  return {\n    type: types.VALUE_CHANGED,\n    payload: value,\n    path,\n    location,\n    locationValue: true\n  }\n}\n\nexport const destroy = location => {\n  return {\n    type: types.DESTROY,\n    location\n  }\n}\n\nexport const unWatch = path => {\n  return {\n    type: types.UNWATCH,\n    path\n  }\n}\n\nexport function watchPath(firebaseApp, firebasePath, reduxPath = false, logLoad = true) {\n  const location = reduxPath || firebasePath\n\n  return (dispatch, getState) => {\n    const isInitialized = initSelectors.isInitialised(getState(), location)\n\n    if (!isInitialized) {\n      const ref = firebaseApp.database().ref(firebasePath)\n      const path = ref.toString()\n\n      if (logLoad) {\n        dispatch(logLoading(location))\n      }\n\n      ref.on(\n        'value',\n        snapshot => {\n          dispatch(valueChanged(snapshot.val(), location, path))\n        },\n        err => {\n          dispatch(logError(location, err))\n        }\n      )\n    }\n  }\n}\n\nexport function unwatchPath(firebaseApp, path, reduxPath = false) {\n  return dispatch => {\n    const location = reduxPath || path\n    firebaseApp\n      .database()\n      .ref(path)\n      .off()\n    dispatch(unWatch(location))\n  }\n}\n\nexport function destroyPath(firebaseApp, path, reduxPath = false) {\n  const location = reduxPath || path\n\n  return dispatch => {\n    firebaseApp\n      .database()\n      .ref(path)\n      .off()\n    dispatch(unWatch(location))\n    dispatch(destroy(location))\n  }\n}\n\nexport function unwatchAllPaths(firebaseApp) {\n  return (dispatch, getState) => {\n    const allPaths = selectors.getAllPaths(getState())\n\n    Object.keys(allPaths).forEach(function(key, index) {\n      firebaseApp\n        .database()\n        .ref(allPaths[index])\n        .off()\n      dispatch(unWatch(key))\n    })\n  }\n}\n","export function isLoading(state, location) {\n  if (state.loadings !== undefined && state.loadings[location]) {\n    return state.loadings[location]\n  }\n\n  return false\n}\n","export function hasError(state, path) {\n  if (state.errors !== undefined && state.errors[path]) {\n    return state.errors[path]\n  }\n\n  return false\n}\n","import authReducer from './store/auth/reducer'\nimport collectionsReducer from './store/collections/reducer'\nimport connectionReducer from './store/connection/reducer'\nimport docsReducer from './store/docs/reducer'\nimport errorsReducer from './store/errors/reducer'\nimport initializationReducer from './store/initialization/reducer'\nimport listsReducer from './store/lists/reducer'\nimport loadingsReducers from './store/loadings/reducer'\nimport messagingReducer from './store/messaging/reducer'\nimport pathsReducer from './store/paths/reducer'\n\nconst firekitReducers = {\n  auth: authReducer,\n  collections: collectionsReducer,\n  connection: connectionReducer,\n  docs: docsReducer,\n  errors: errorsReducer,\n  initialization: initializationReducer,\n  lists: listsReducer,\n  loadings: loadingsReducers,\n  messaging: messagingReducer,\n  paths: pathsReducer\n}\n\nexport { clearInitialization } from './store/initialization/actions'\nexport { default as authReducer } from './store/auth/reducer'\nexport { default as collectionsReducer } from './store/collections/reducer'\nexport { default as connectionReducer } from './store/connection/reducer'\nexport { default as docsReducer } from './store/docs/reducer'\nexport { default as errorsReducer } from './store/errors/reducer'\nexport { default as initializationReducer } from './store/initialization/reducer'\nexport { default as listsReducer } from './store/lists/reducer'\nexport { default as loadingsReducer } from './store/loadings/reducer'\nexport { default as messagingReducer } from './store/messaging/reducer'\nexport { default as pathsReducer } from './store/paths/reducer'\nexport { initConnection, unsubscribeConnection } from './store/connection/actions'\nexport { initMessaging, clearMessage } from './store/messaging/actions'\nexport { logError, clearError, clearAllErrors } from './store/errors/actions'\nexport { logLoading, clearLoading, clearAllLoadings } from './store/loadings/actions'\nexport { watchAuth, authStateChanged, authError } from './store/auth/actions'\nexport { watchCol, unwatchCol, destroyCol, unwatchAllCols } from './store/collections/actions'\nexport { watchDoc, unwatchDoc, destroyDoc, unwatchAllDocs } from './store/docs/actions'\nexport { watchList, unwatchList, destroyList, unwatchAllLists } from './store/lists/actions'\nexport { watchPath, unwatchPath, destroyPath, unwatchAllPaths } from './store/paths/actions'\n\nexport { getList, getAllLists } from './store/lists/selectors'\nexport { isLoading } from './store/loadings/selectors'\nexport { hasError } from './store/errors/selectors'\nexport { getCol, getAllCols, getAllInitializations } from './store/collections/selectors'\nexport { getPath, getAllPaths } from './store/paths/selectors'\nexport { getDoc, getAllDocs } from './store/docs/selectors'\nexport { isInitialised } from './store/initialization/selectors'\n\nexport default firekitReducers\n"],"sourceRoot":""}