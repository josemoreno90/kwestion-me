{"map":"{\"version\":3,\"sources\":[\"/Users/josemoreno/Desktop/kwestion-me/src/pages/Companies/Companies.js\"],\"names\":[\"Companies\",\"_this$props\",\"this\",\"props\",\"watchList\",\"firebaseApp\",\"database\",\"ref\",\"limitToFirst\",\"companies\",\"history\",\"undefined\",\"react__WEBPACK_IMPORTED_MODULE_5___default\",\"a\",\"createElement\",\"map\",\"company\",\"index\",\"key\",\"_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_10___default\",\"onClick\",\"push\",\"concat\",\"id\",\"val\",\"photoURL\",\"_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_16___default\",\"src\",\"alt\",\"_material_ui_core_Icon__WEBPACK_IMPORTED_MODULE_13___default\",\"_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_11___default\",\"primary\",\"name\",\"secondary\",\"full_name\",\"_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_12___default\",\"inset\",\"_this\",\"_this$props2\",\"intl\",\"theme\",\"isGranted\",\"rmw_shell__WEBPACK_IMPORTED_MODULE_19__\",\"isLoading\",\"containerStyle\",\"overflow\",\"title\",\"formatMessage\",\"style\",\"backgroundColor\",\"palette\",\"convasColor\",\"_material_ui_core_List__WEBPACK_IMPORTED_MODULE_9___default\",\"height\",\"field\",\"list\",\"renderList\",\"position\",\"right\",\"zIndex\",\"bottom\",\"_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_14___default\",\"variant\",\"color\",\"className\",\"Component\",\"connect\",\"state\",\"auth\",\"lists\",\"grant\",\"injectIntl\",\"withTheme\",\"withRouter\",\"withFirebase\"],\"mappings\":\"0WAiBMA,8LACiB,IAAAC,EACgBC,KAAKC,OAIxCC,EALmBH,EACXG,WADWH,EACAI,YAEGC,WAAWC,IAAI,aAAaC,aAAa,wCAKrDC,GAAW,IACbC,EAAYR,KAAKC,MAAjBO,QAER,YAAkBC,IAAdF,EACKG,EAAAC,EAAAC,cAAA,MAAA,MAGFL,EAAUM,IAAI,SAACC,EAASC,GAC7B,OAAOL,EAAAC,EAAAC,cAAA,MAAA,CAAKI,IAAKD,GACfL,EAAAC,EAAAC,cAACK,EAAAN,EAAD,CACEK,IAAKD,EACLG,QAAS,WAAQV,EAAQW,KAAR,mBAAAC,OAAgCN,EAAQE,OACzDK,GAAIN,GACHD,EAAQQ,IAAIC,UAAYb,EAAAC,EAAAC,cAACY,EAAAb,EAAD,CAAQc,IAAKX,EAAQQ,IAAIC,SAAUG,IAAI,cAC9DZ,EAAQQ,IAAIC,UAAYb,EAAAC,EAAAC,cAACY,EAAAb,EAAD,KAAA,IAASD,EAAAC,EAAAC,cAACe,EAAAhB,EAAD,KAAA,cAAT,MAC1BD,EAAAC,EAAAC,cAACgB,EAAAjB,EAAD,CAAckB,QAASf,EAAQQ,IAAIQ,KAAMC,UAAWjB,EAAQQ,IAAIU,aAElEtB,EAAAC,EAAAC,cAACqB,EAAAtB,EAAD,CAASuB,OAAK,wCAKV,IAAAC,EAAAnC,KAAAoC,EAC+CpC,KAAKC,MAApDoC,EADAD,EACAC,KAAM9B,EADN6B,EACM7B,UAAW+B,EADjBF,EACiBE,MAAO9B,EADxB4B,EACwB5B,QAAS+B,EADjCH,EACiCG,UAEzC,OACE7B,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,CACEC,eAAyBhC,IAAdF,EACXmC,eAAgB,CAAEC,SAAU,UAC5BC,MAAOP,EAAKQ,cAAc,CAAExB,GAAI,eAChCX,EAAAC,EAAAC,cAAC4B,EAAA,EAAD,KAEE9B,EAAAC,EAAAC,cAAA,MAAA,CAAKkC,MAAO,CAAEH,SAAU,OAAQI,gBAAiBT,EAAMU,QAAQC,cAC7DvC,EAAAC,EAAAC,cAACsC,EAAAvC,EAAD,CAAMU,GAAG,OAAOyB,MAAO,CAAEK,OAAQ,QAAU9C,IAAK,SAAC+C,GAAYjB,EAAKkB,KAAOD,IACtEpD,KAAKsD,WAAW/C,KAIrBG,EAAAC,EAAAC,cAAA,MAAA,CAAKkC,MAAO,CAAES,SAAU,QAASC,MAAO,GAAIC,OAAQ,EAAGC,OAAQ,KAE3DnB,EAAU,mBACV7B,EAAAC,EAAAC,cAAC+C,EAAAhD,EAAD,CAAQiD,QAAQ,MAAMC,MAAM,YAAY3C,QAAS,WAAQV,EAAQW,KAAR,uBACvDT,EAAAC,EAAAC,cAACe,EAAAhB,EAAD,CAAMmD,UAAU,kBAAhB,kBAnDQC,EAAAA,WA+ETC,EAAAA,QAAAA,OAAAA,EAAAA,QAAAA,CAVS,SAACC,GAAU,IACzBC,EAAgBD,EAAhBC,KAER,MAAO,CACL3D,UAHsB0D,EAAVE,MAGK5D,UACjB2D,KAAAA,EACA3B,UAAW,SAAA6B,GAAK,OAAI7B,GAAAA,CAAU0B,EAAOG,MAI1BJ,CAEbK,OAAAA,EAAAA,WAAAA,CAAWC,OAAAA,EAAAA,UAAAA,EAAAA,CAAYC,OAAAA,EAAAA,EAAAA,CAAWC,OAAAA,EAAAA,aAAAA,CAAa1E\",\"sourcesContent\":[\"import React, { Component } from 'react'\\nimport { connect } from 'react-redux'\\nimport PropTypes from 'prop-types'\\nimport { withTheme } from '@material-ui/core/styles'\\nimport { injectIntl } from 'react-intl'\\nimport List from '@material-ui/core/List'\\nimport ListItem from '@material-ui/core/ListItem'\\nimport ListItemText from '@material-ui/core/ListItemText'\\nimport Divider from '@material-ui/core/Divider'\\nimport Icon from '@material-ui/core/Icon'\\nimport Button from '@material-ui/core/Button'\\nimport { withRouter } from 'react-router-dom'\\nimport Avatar from '@material-ui/core/Avatar'\\nimport { withFirebase } from 'firekit-provider'\\nimport isGranted from 'rmw-shell/lib/utils/auth'\\nimport { Activity, Scrollbar } from 'rmw-shell'\\n\\nclass Companies extends Component {\\n  componentDidMount () {\\n    const { watchList, firebaseApp } = this.props\\n\\n    let ref = firebaseApp.database().ref('companies').limitToFirst(20)\\n\\n    watchList(ref)\\n  }\\n\\n  renderList (companies) {\\n    const { history } = this.props\\n\\n    if (companies === undefined) {\\n      return <div />\\n    }\\n\\n    return companies.map((company, index) => {\\n      return <div key={index}>\\n        <ListItem\\n          key={index}\\n          onClick={() => { history.push(`/companies/edit/${company.key}`) }}\\n          id={index}>\\n          {company.val.photoURL && <Avatar src={company.val.photoURL} alt='bussines' />}\\n          {!company.val.photoURL && <Avatar> <Icon > business </Icon>  </Avatar>}\\n          <ListItemText primary={company.val.name} secondary={company.val.full_name} />\\n        </ListItem>\\n        <Divider inset />\\n      </div>\\n    })\\n  }\\n\\n  render () {\\n    const { intl, companies, theme, history, isGranted } = this.props\\n\\n    return (\\n      <Activity\\n        isLoading={companies === undefined}\\n        containerStyle={{ overflow: 'hidden' }}\\n        title={intl.formatMessage({ id: 'companies' })}>\\n        <Scrollbar>\\n\\n          <div style={{ overflow: 'none', backgroundColor: theme.palette.convasColor }}>\\n            <List id='test' style={{ height: '100%' }} ref={(field) => { this.list = field }}>\\n              {this.renderList(companies)}\\n            </List>\\n          </div>\\n\\n          <div style={{ position: 'fixed', right: 18, zIndex: 3, bottom: 18 }}>\\n            {\\n              isGranted('create_company') &&\\n              <Button variant='fab' color='secondary' onClick={() => { history.push(`/companies/create`) }} >\\n                <Icon className='material-icons' >add</Icon>\\n              </Button>\\n            }\\n          </div>\\n\\n        </Scrollbar>\\n\\n      </Activity>\\n    )\\n  }\\n}\\n\\nCompanies.propTypes = {\\n  companies: PropTypes.array,\\n  history: PropTypes.object,\\n  isGranted: PropTypes.func.isRequired\\n}\\n\\nconst mapStateToProps = (state) => {\\n  const { auth, lists } = state\\n\\n  return {\\n    companies: lists.companies,\\n    auth,\\n    isGranted: grant => isGranted(state, grant)\\n  }\\n}\\n\\nexport default connect(\\n  mapStateToProps\\n)(injectIntl(withTheme()(withRouter(withFirebase(Companies)))))\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1189:function(e,t,n){\"use strict\";n.r(t);var a=n(353),i=n(354),r=n(360),o=n(355),c=n(361),s=n(0),l=n.n(s),u=n(143),m=n(59),p=n(152),d=n(284),h=n.n(d),v=n(205),f=n.n(v),b=n(243),y=n.n(b),E=n(224),j=n.n(E),k=n(144),w=n.n(k),O=n(170),L=n.n(O),g=n(1180),C=n(229),R=n.n(C),U=n(183),x=n(550),F=n.n(x),G=n(440),I=function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:\"componentDidMount\",value:function(){var e=this.props;(0,e.watchList)(e.firebaseApp.database().ref(\"companies\").limitToFirst(20))}},{key:\"renderList\",value:function(e){var t=this.props.history;return void 0===e?l.a.createElement(\"div\",null):e.map(function(e,n){return l.a.createElement(\"div\",{key:n},l.a.createElement(f.a,{key:n,onClick:function(){t.push(\"/companies/edit/\".concat(e.key))},id:n},e.val.photoURL&&l.a.createElement(R.a,{src:e.val.photoURL,alt:\"bussines\"}),!e.val.photoURL&&l.a.createElement(R.a,null,\" \",l.a.createElement(w.a,null,\" business \"),\"  \"),l.a.createElement(y.a,{primary:e.val.name,secondary:e.val.full_name})),l.a.createElement(j.a,{inset:!0}))})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.intl,a=t.companies,i=t.theme,r=t.history,o=t.isGranted;return l.a.createElement(G.a,{isLoading:void 0===a,containerStyle:{overflow:\"hidden\"},title:n.formatMessage({id:\"companies\"})},l.a.createElement(G.b,null,l.a.createElement(\"div\",{style:{overflow:\"none\",backgroundColor:i.palette.convasColor}},l.a.createElement(h.a,{id:\"test\",style:{height:\"100%\"},ref:function(t){e.list=t}},this.renderList(a))),l.a.createElement(\"div\",{style:{position:\"fixed\",right:18,zIndex:3,bottom:18}},o(\"create_company\")&&l.a.createElement(L.a,{variant:\"fab\",color:\"secondary\",onClick:function(){r.push(\"/companies/create\")}},l.a.createElement(w.a,{className:\"material-icons\"},\"add\")))))}}]),t}(s.Component);t.default=Object(u.connect)(function(e){var t=e.auth;return{companies:e.lists.companies,auth:t,isGranted:function(t){return F()(e,t)}}})(Object(p.injectIntl)(Object(m.withTheme)()(Object(g.a)(Object(U.withFirebase)(I)))))}}]);","extractedComments":[]}